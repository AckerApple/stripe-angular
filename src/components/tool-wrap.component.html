<div class="tool-wrap flex-stacked flex-1">
  <div class="flex-wrap flex-valign-center">
    <div (click)="showForm = !showForm" class="flex-1 cursor-pointer">
      <strong class="margin-0 pad-0 text-white">
        <label for="card-like-element">
          {{api.title}}
        </label>
      </strong>
    </div>
  </div>
  <div class="tool-panel">
    <div class="flex-wrap flex-apart">
      <span *ngIf="api.request" class="opacity-80 text-xs" style="overflow-wrap:break-word">
        {{api.request.method}}&nbsp;/{{api.request.path}}
      </span>

      <!-- ðŸ’  pastes -->
      <ng-container *ngIf="showForm && api.pastes?.length">
        <div class="flex-1 flex-right">
          <pastes-menu [api]="api" [pastes]="api.pastes"></pastes-menu>
        </div>
      </ng-container>

    </div>

    <div *ngIf="api.description" class="text-xxs opacity-60">{{api.description}}</div>

    <a *ngIf="!showForm" class="opacity-half block text-center pad-smx bg-grey radius-10"
      (click)="showForm = !showForm" [class.bg-info]="api.result"
    >show</a>

    <ng-container *ngIf="showForm">
      <simple-route-edit [config]="api" [(format)]="format" (formatChange)="formatChange.emit($event)">
        <ng-template #requestHeaderItems>
          <ng-container *ngTemplateOutlet="requestHeaderItemsTemplate"></ng-container>
        </ng-template>
        <ng-template #prependFormFooter>
          <ng-container *ngTemplateOutlet="prependFormFooterTemplate"></ng-container>
        </ng-template>
      </simple-route-edit>

      <div class="flex-valign-center flex-center text-xs pad-top-xs opacity-70">
        <small *ngFor="let item of api.links" class="pad-h-xs underline">
          <a [href]="item.url" class="text-white no-a-style" target="_blank"
          >{{item.title}}</a>
        </small>

        <!-- maybe deprecated-->
        <small *ngIf="api.link" class="pad-left-xs">
          <a [href]="api.link" class="text-white no-a-style" target="_blank"
          >ðŸ“•docs</a>
        </small>
      </div>
    </ng-container>

    <ng-container *ngTemplateOutlet="footerTemplate"></ng-container>
  </div>
</div>
