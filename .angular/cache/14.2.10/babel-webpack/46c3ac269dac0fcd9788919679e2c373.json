{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sourcesApi = exports.apis = exports.source_update = exports.source_get = exports.create_source = exports.card = exports.cleanSourceRemoveKeys = exports.cardRemoveKeys = void 0; // import { customerApis } from './getApis.function'\n\nconst customers_api_1 = require(\"./customers.api\");\n\nexports.cardRemoveKeys = ['wallet', 'checks', 'three_d_secure_usage', 'fingerprint', 'last4', 'generated_from', 'country', 'brand', 'address_line1_check', 'address_zip_check', 'cvc_check', 'funding', 'three_d_secure', 'name', 'tokenization_method', 'dynamic_last4', 'networks.available', 'networks.preferred'];\nconst ownerDataKeys = ['verified_address', 'verified_email', 'verified_name', 'verified_phone'];\nexports.cleanSourceRemoveKeys = [...exports.cardRemoveKeys.map(name => 'card.' + name), ...ownerDataKeys.map(name => 'owner.' + name), 'id', 'amount', 'object', 'client_secret', 'created', 'flow', 'livemode', 'address', 'status', 'type', 'usage', 'currency', 'statement_descriptor', 'customer' // you cannot associate customer during source update\n];\nexports.card = {\n  title: '💳 Card Element' // result: {}, // where source, payment_method, and token will go\n\n};\nexports.create_source = {\n  title: '🆕 💳 Create source',\n  links: [{\n    title: '📕 api docs',\n    url: 'https://stripe.com/docs/api/sources/create'\n  }, {\n    title: 'ach credit transfer',\n    url: 'https://stripe.com/docs/sources/ach-credit-transfer'\n  }, {\n    title: 'credit transfers',\n    url: 'https://stripe.com/docs/payments/sources/credit-transfers'\n  }, {\n    url: 'https://stripe.com/docs/sources/ach-credit-transfer#testing-ach-credit-transfer-payments',\n    title: 'set amount to send'\n  }],\n  // hint: '',\n  description: 'Typically used for creating credit-transfer/wire account details',\n  favKeys: [{\n    valueKey: 'result.id'\n  }],\n  request: {\n    method: 'POST',\n    path: 'sources'\n  },\n  data: {\n    type: \"ach_credit_transfer\",\n    currency: \"usd\",\n    owner: {\n      email: \"amount_4242@example.com\"\n    },\n    metadata: {}\n  }\n};\nexports.source_get = {\n  title: '1️⃣ 💳 GET Source',\n  link: 'https://stripe.com/docs/api/sources/retrieve',\n  messages: [{\n    valueExpression: 'ba_',\n    valueKey: 'request.params.id',\n    message: '⚠️ It appears you are using a bank source which is NOT truly a source. Fetch bank sources using GET /customers/:id/sources'\n  }, {\n    valueExpression: 'btok_',\n    valueKey: 'request.params.id',\n    message: '⚠️ It appears you are using a bank token which is NOT a source'\n  }],\n  request: {\n    method: 'GET',\n    path: 'sources/:id'\n  },\n  pastes: [{\n    $api: () => exports.card,\n    valueKey: 'result.source.id',\n    pasteKey: 'request.params.id'\n  }, {\n    $api: () => exports.create_source,\n    valueKey: 'result.id',\n    pasteKey: 'request.params.id'\n  }, {\n    $api: () => source_transactions,\n    valueKey: 'request.params.id',\n    pasteKey: 'request.params.id'\n  }, {\n    $api: () => customers_api_1.customer_get_sources,\n    valueKey: 'result.data.0.id',\n    pasteKey: 'request.params.source'\n  }, {\n    $api: () => customers_api_1.customer_get_payment_methods,\n    valueKey: 'result.data.0.id',\n    valueMatches: [{\n      expression: 'src_'\n    }]\n  }]\n};\nexports.source_update = {\n  title: '⬆️ 💳 UPDATE Source',\n  links: [{\n    url: 'https://stripe.com/docs/sources/ach-credit-transfer#testing-ach-credit-transfer-payments',\n    title: 'test sending more money'\n  }, {\n    url: 'https://stripe.com/docs/api/sources/update',\n    title: 'api docs'\n  }],\n  request: {\n    method: 'POST',\n    path: 'sources/:id'\n  },\n  data: {\n    metadata: {},\n    owner: {\n      email: 'amount_3000@example.com'\n    }\n  },\n  pastes: [{\n    $api: () => exports.source_get,\n    title: 'GET source',\n    valueKey: 'result',\n    pasteKey: 'data',\n    removeKeys: exports.cleanSourceRemoveKeys,\n    removeValues: [null]\n  }, {\n    $api: () => exports.source_get,\n    title: 'GET source id',\n    valueKey: 'result.id',\n    pasteKey: 'request.params.id'\n  }, {\n    $api: () => exports.card,\n    title: 'stripejs source id',\n    valueKey: 'result.source.id',\n    pasteKey: 'request.params.id'\n  }, {\n    $api: () => exports.card,\n    title: 'stripejs source element',\n    valueKey: 'result.source.id',\n    pasteValueKey: 'result.source',\n    pasteKey: 'data',\n    removeKeys: exports.cleanSourceRemoveKeys,\n    removeValues: [null]\n  }]\n};\nconst source_transactions = {\n  title: '🧾 ⚡️ List source transactions',\n  description: 'See the transactions for an ach-credit-transfer/wire account',\n  links: [{\n    title: 'retrieving transaction history',\n    url: 'https://stripe.com/docs/sources/ach-credit-transfer#retrieving-transaction-history'\n  }],\n  request: {\n    method: 'GET',\n    path: 'sources/:id/source_transactions'\n  },\n  data: {\n    limit: 3\n  },\n  pastes: [{\n    $api: () => exports.source_get,\n    valueKey: 'result.id',\n    pasteKey: 'request.params.id'\n  }, {\n    $api: () => exports.create_source,\n    valueKey: 'result.id',\n    pasteKey: 'request.params.id'\n  }, {\n    $api: () => exports.card,\n    valueKey: 'result.source.id',\n    pasteKey: 'request.params.id'\n  }]\n};\nconst sources_list = {\n  description: 'Only way to list sources is scoped by customer',\n  title: '🧾 💳 ➡️ 👤 List sources by customer',\n  $api: () => customers_api_1.customer_get_sources\n};\nexports.apis = [// card,\nexports.create_source, exports.source_get, exports.source_update, sources_list, source_transactions];\nexports.sourcesApi = {\n  title: 'Sources',\n  apis: exports.apis,\n  icon: '💳 🏦',\n  links: [{\n    title: '📕 api docs',\n    url: 'https://stripe.com/docs/api/sources'\n  }],\n  description: 'Cards, banks, and credit-transfer/wires'\n};","map":null,"metadata":{},"sourceType":"script"}