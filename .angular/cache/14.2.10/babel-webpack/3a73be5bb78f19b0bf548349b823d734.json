{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { copyText, getProjectLocalStorage, getSaveableStorage } from './app.component.utils';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"./masked-key.component\";\nimport * as i3 from \"./key-changer.component\";\nimport * as i4 from \"./webhook-server-edit.component\";\nimport * as i5 from \"./webhook-secret-edit.component\";\nimport * as i6 from \"./keys-input-array.component\";\n\nfunction SettingsComponent_div_0_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"strong\", 5);\n    i0.ɵɵtext(2, \"\\uD83E\\uDE9D Webhook Signing Secret\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 6);\n    i0.ɵɵelement(4, \"masked-key\", 7);\n    i0.ɵɵelementStart(5, \"key-changer\", 8);\n    i0.ɵɵlistener(\"valueChange\", function SettingsComponent_div_0_div_14_Template_key_changer_valueChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.storage.webhookSigningSecret = $event);\n    })(\"valueChange\", function SettingsComponent_div_0_div_14_Template_key_changer_valueChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      ctx_r8.storage.webhookSigningSecret = $event;\n      return i0.ɵɵresetView(ctx_r8.save());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", ctx_r5.storage.webhookSigningSecret);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"keys\", ctx_r5.storage.webhookSigningSecrets)(\"value\", ctx_r5.storage.webhookSigningSecret);\n  }\n}\n\nfunction SettingsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 3)(2, \"div\", 4)(3, \"strong\", 5);\n    i0.ɵɵtext(4, \"\\uD83D\\uDDDD Publishable Key\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 6);\n    i0.ɵɵelement(6, \"masked-key\", 7);\n    i0.ɵɵelementStart(7, \"key-changer\", 8);\n    i0.ɵɵlistener(\"valueChange\", function SettingsComponent_div_0_Template_key_changer_valueChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.storage.key = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"div\", 4)(9, \"strong\", 5);\n    i0.ɵɵtext(10, \"\\uD83D\\uDD10 Private Key\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 6);\n    i0.ɵɵelement(12, \"masked-key\", 7);\n    i0.ɵɵelementStart(13, \"key-changer\", 8);\n    i0.ɵɵlistener(\"valueChange\", function SettingsComponent_div_0_Template_key_changer_valueChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.storage.privateKey = $event);\n    })(\"valueChange\", function SettingsComponent_div_0_Template_key_changer_valueChange_13_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.save());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(14, SettingsComponent_div_0_div_14_Template, 6, 3, \"div\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵelementStart(16, \"div\", 10)(17, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function SettingsComponent_div_0_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.copyShareUrl());\n    });\n    i0.ɵɵtext(18, \"\\u270D\\uFE0F copy share url\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function SettingsComponent_div_0_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.editChange.emit(ctx_r14.edit = !ctx_r14.edit));\n    });\n    i0.ɵɵtext(20, \"\\uD83D\\uDD27 edit\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"value\", ctx_r0.storage.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"keys\", ctx_r0.storage.publicKeys)(\"value\", ctx_r0.storage.key);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"value\", ctx_r0.storage.privateKey);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"keys\", ctx_r0.storage.privateKeys)(\"value\", ctx_r0.storage.privateKey);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.storage.webhookSigningSecret);\n  }\n}\n\nfunction SettingsComponent_ng_template_1_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"div\", 35);\n    i0.ɵɵelement(2, \"masked-key\", 7);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const value_r20 = ctx.value;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", value_r20);\n  }\n}\n\nfunction SettingsComponent_ng_template_1_ng_container_24_div_1_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43)(1, \"div\", 35);\n    i0.ɵɵelement(2, \"masked-key\", 7);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const value_r27 = ctx.value;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", value_r27);\n  }\n}\n\nfunction SettingsComponent_ng_template_1_ng_container_24_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"div\", 15)(2, \"strong\", 5);\n    i0.ɵɵtext(3, \"\\uD83D\\uDD10 Private Keys\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 16)(5, \"a\", 17);\n    i0.ɵɵtext(6, \"\\uD83D\\uDD17 stripe keys\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"div\")(8, \"keys-input-array\", 42);\n    i0.ɵɵlistener(\"valueChange\", function SettingsComponent_ng_template_1_ng_container_24_div_1_Template_keys_input_array_valueChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r28 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r28.storage.privateKey = $event);\n    });\n    i0.ɵɵtemplate(9, SettingsComponent_ng_template_1_ng_container_24_div_1_ng_template_9_Template, 3, 1, \"ng-template\", null, 19, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"array\", ctx_r21.storage.privateKeys)(\"value\", ctx_r21.storage.privateKey);\n  }\n}\n\nfunction SettingsComponent_ng_template_1_ng_container_24_ng_template_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"div\", 35);\n    i0.ɵɵelement(2, \"masked-key\", 7);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const value_r30 = ctx.value;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", value_r30);\n  }\n}\n\nfunction SettingsComponent_ng_template_1_ng_container_24_div_19_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"div\", 35);\n    i0.ɵɵelement(2, \"masked-key\", 7);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const value_r33 = ctx.value;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", value_r33);\n  }\n}\n\nfunction SettingsComponent_ng_template_1_ng_container_24_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"strong\", 5);\n    i0.ɵɵtext(2, \"\\uD83D\\uDC42 Secrets\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"small\", 41);\n    i0.ɵɵtext(4, \" Store multiple keys for convenient switching \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\")(6, \"keys-input-array\", 44);\n    i0.ɵɵtemplate(7, SettingsComponent_ng_template_1_ng_container_24_div_19_ng_template_7_Template, 3, 1, \"ng-template\", null, 19, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"array\", ctx_r24.storage.plaid.secrets)(\"value\", ctx_r24.storage.plaid.secret);\n  }\n}\n\nfunction SettingsComponent_ng_template_1_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, SettingsComponent_ng_template_1_ng_container_24_div_1_Template, 11, 2, \"div\", 36);\n    i0.ɵɵelementStart(2, \"div\", 37)(3, \"webhook-secret-edit\", 38);\n    i0.ɵɵlistener(\"save\", function SettingsComponent_ng_template_1_ng_container_24_Template_webhook_secret_edit_save_3_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r34.save());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 37)(5, \"webhook-server-edit\", 38);\n    i0.ɵɵlistener(\"save\", function SettingsComponent_ng_template_1_ng_container_24_Template_webhook_server_edit_save_5_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r36 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r36.save());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"fieldset\", 39)(7, \"legend\");\n    i0.ɵɵtext(8, \"\\uD83C\\uDFE6 Plaid\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 40)(10, \"div\", 37)(11, \"strong\", 5);\n    i0.ɵɵtext(12, \"\\uD83C\\uDD94 Plaid CLIENT_IDs\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"small\", 41);\n    i0.ɵɵtext(14, \" Store multiple keys for convenient switching \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\")(16, \"keys-input-array\", 42);\n    i0.ɵɵlistener(\"valueChange\", function SettingsComponent_ng_template_1_ng_container_24_Template_keys_input_array_valueChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r37.storage.plaid.client_id = $event);\n    });\n    i0.ɵɵtemplate(17, SettingsComponent_ng_template_1_ng_container_24_ng_template_17_Template, 3, 1, \"ng-template\", null, 19, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(19, SettingsComponent_ng_template_1_ng_container_24_div_19_Template, 9, 2, \"div\", 36);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r17.storage.savePrivateKeyLocally);\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"array\", ctx_r17.storage.plaid.clientIds)(\"value\", ctx_r17.storage.plaid.client_id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r17.storage.savePrivateKeyLocally);\n  }\n}\n\nfunction SettingsComponent_ng_template_1_button_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function SettingsComponent_ng_template_1_button_37_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r38 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r38.deleteLocalStorage());\n    });\n    i0.ɵɵtext(1, \"\\uD83D\\uDDD1 clear localStorage\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SettingsComponent_ng_template_1_button_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function SettingsComponent_ng_template_1_button_38_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r40 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r40.editChange.emit(ctx_r40.edit = !ctx_r40.edit));\n    });\n    i0.ɵɵtext(1, \"\\u274C CLOSE\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SettingsComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 12);\n    i0.ɵɵlistener(\"submit\", function SettingsComponent_ng_template_1_Template_form_submit_0_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r42 = i0.ɵɵnextContext();\n      ctx_r42.save();\n      return i0.ɵɵresetView(ctx_r42.editChange.emit(ctx_r42.edit = false));\n    })(\"change\", function SettingsComponent_ng_template_1_Template_form_change_0_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r44 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r44.save());\n    });\n    i0.ɵɵelementStart(1, \"div\", 13)(2, \"div\", 14)(3, \"div\", 15)(4, \"strong\", 5);\n    i0.ɵɵtext(5, \"\\uD83D\\uDC41 \\uD83D\\uDDDD Public Keys\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 16)(7, \"a\", 17);\n    i0.ɵɵtext(8, \"\\uD83D\\uDD17 stripe keys\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\")(10, \"keys-input-array\", 18);\n    i0.ɵɵlistener(\"valueChange\", function SettingsComponent_ng_template_1_Template_keys_input_array_valueChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r45 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r45.storage.key = $event);\n    })(\"selectedChange\", function SettingsComponent_ng_template_1_Template_keys_input_array_selectedChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r46 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r46.publicKeyChange.emit($event));\n    });\n    i0.ɵɵtemplate(11, SettingsComponent_ng_template_1_ng_template_11_Template, 3, 1, \"ng-template\", null, 19, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"div\", 20)(14, \"div\")(15, \"label\", 21)(16, \"input\", 22);\n    i0.ɵɵlistener(\"change\", function SettingsComponent_ng_template_1_Template_input_change_16_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r47 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r47.toggleServerMode());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\");\n    i0.ɵɵtext(18, \"\\u00A0\\uD83D\\uDD17 enable server functionality\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"div\", 23)(20, \"label\", 24)(21, \"input\", 25);\n    i0.ɵɵlistener(\"change\", function SettingsComponent_ng_template_1_Template_input_change_21_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r48 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r48.storage.saveKeyLocally = !ctx_r48.storage.saveKeyLocally);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"span\");\n    i0.ɵɵtext(23, \"\\u00A0\\uD83D\\uDCBE save in localStorage\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(24, SettingsComponent_ng_template_1_ng_container_24_Template, 20, 4, \"ng-container\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 27)(26, \"div\")(27, \"div\")(28, \"strong\")(29, \"label\", 28)(30, \"input\", 29);\n    i0.ɵɵlistener(\"change\", function SettingsComponent_ng_template_1_Template_input_change_30_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r49 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r49.storage.saveRequestsLocal = !ctx_r49.storage.saveRequestsLocal);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31, \" Reuse metadata in all requests \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(32, \"textarea\", 30);\n    i0.ɵɵlistener(\"change\", function SettingsComponent_ng_template_1_Template_textarea_change_32_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r50 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r50.updateStorageMeta($event.target.value));\n    });\n    i0.ɵɵtext(33);\n    i0.ɵɵpipe(34, \"json\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(35, \"br\");\n    i0.ɵɵelementStart(36, \"div\", 31);\n    i0.ɵɵtemplate(37, SettingsComponent_ng_template_1_button_37_Template, 2, 0, \"button\", 32);\n    i0.ɵɵtemplate(38, SettingsComponent_ng_template_1_button_38_Template, 2, 0, \"button\", 33);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"array\", ctx_r2.storage.publicKeys)(\"value\", ctx_r2.storage.key);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"checked\", ctx_r2.storage.savePrivateKeyLocally);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"checked\", ctx_r2.storage.saveKeyLocally);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.storage.savePrivateKeyLocally);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"checked\", ctx_r2.storage.saveRequestsLocal);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.storage.saveRequestsLocal);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(34, 10, ctx_r2.storage.metadata));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.storage.privateKey || ctx_r2.storage.key || ctx_r2.storage.saveKeyLocally);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.storage.key);\n  }\n}\n\nfunction SettingsComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r52 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"key-changer\", 8);\n    i0.ɵɵlistener(\"valueChange\", function SettingsComponent_ng_template_3_Template_key_changer_valueChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r52);\n      const ctx_r51 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r51.storage.privateKey = $event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"keys\", ctx_r4.storage.privateKeys)(\"value\", ctx_r4.storage.privateKey);\n  }\n}\n\nexport let SettingsComponent = /*#__PURE__*/(() => {\n  class SettingsComponent {\n    constructor() {\n      this.editChange = new EventEmitter();\n      this.saveChange = new EventEmitter();\n      this.metadataUpdate = new EventEmitter();\n      this.publicKeyChange = new EventEmitter(); // tempPublishableKey: string\n      // tempPrivateKey: string// localStorage?.stripeAngularPrivateKey;\n\n      this.copyText = copyText;\n    }\n\n    ngOnInit() {\n      // this.tempPrivateKey = this.storage.privateKey// localStorage?.stripeAngularPrivateKey;\n      // this.tempPublishableKey = this.storage.key\n      if (!this.storage.key) {\n        this.edit = true;\n      }\n    }\n\n    save() {\n      this.storage.key = this.storage.key; // this.tempPublishableKey || this.storage.key\n\n      this.storage.privateKey = this.storage.privateKey; // this.tempPrivateKey || this.storage.privateKey\n\n      this.saveChange.emit();\n    }\n\n    copyShareUrl() {\n      const storage = getSaveableStorage(this.storage); // do let next client auto assume saving these\n\n      delete storage.saveRequestsLocal;\n      delete storage.savePrivateKeyLocally;\n      delete storage.saveKeyLocally;\n\n      if (storage.privateKey && !confirm('include private server key?')) {\n        delete storage.privateKey;\n      }\n\n      const storageString = encodeURI(JSON.stringify(storage));\n      const url = window.location.href.split('?').shift() + '?storage=' + storageString;\n      copyText(url);\n      alert('copied');\n    }\n\n    toggleServerMode() {\n      if (this.storage.savePrivateKeyLocally) {\n        if (confirm('Confirm to delete secrets and private keys')) {\n          localStorage.stripeAngularPrivateKey = null;\n          delete localStorage.stripeAngularPrivateKey; // delete this.tempPrivateKey\n\n          delete this.storage.privateKey;\n          delete this.storage.webhookSigningSecret; // delete this.tempPublishableKey\n\n          this.save();\n          return this.storage.savePrivateKeyLocally = false;\n        }\n      }\n\n      this.storage.savePrivateKeyLocally = true;\n    }\n\n    updateStorageMeta(stringData) {\n      this.storage.metadata = JSON.parse(stringData);\n      this.metadataUpdate.emit(this.storage.metadata);\n    }\n\n    deleteLocalStorage() {\n      localStorage.stripeAngular = null;\n      delete localStorage.stripeAngular; // support old delete\n\n      localStorage.stripeAngularPrivateKey = null;\n      localStorage.stripeAngularKey = null;\n      delete localStorage.stripeAngularPrivateKey;\n      delete localStorage.stripeAngularKey;\n      this.storage = getProjectLocalStorage();\n    }\n\n  }\n\n  SettingsComponent.ɵfac = function SettingsComponent_Factory(t) {\n    return new (t || SettingsComponent)();\n  };\n\n  SettingsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SettingsComponent,\n    selectors: [[\"settings\"]],\n    inputs: {\n      storage: \"storage\",\n      edit: \"edit\"\n    },\n    outputs: {\n      editChange: \"editChange\",\n      saveChange: \"saveChange\",\n      metadataUpdate: \"metadataUpdate\",\n      publicKeyChange: \"publicKeyChange\"\n    },\n    decls: 5,\n    vars: 2,\n    consts: [[4, \"ngIf\", \"ngIfElse\"], [\"storageForm\", \"\"], [\"privateKeyChange\", \"\"], [1, \"flex\", \"flex-wrap\", \"text-smx\", \"child-margin\"], [1, \"flex-1\"], [1, \"nowrap\"], [1, \"flex-valign-center\"], [3, \"value\"], [3, \"keys\", \"value\", \"valueChange\"], [\"class\", \"flex-1\", 4, \"ngIf\"], [1, \"flex\", \"flex-wrap\", \"child-margin-xxs\"], [\"type\", \"button\", 1, \"flex1\", \"hover-bg-positive\", \"active-bg-balanced\", 3, \"click\"], [3, \"submit\", \"change\"], [1, \"flex-wrap\", \"child-margin-xxs\", \"child-pad-xxs\"], [1, \"flex2\", \"bg-grey\", 2, \"min-width\", \"30vw\"], [1, \"flex-apart\"], [1, \"flex-1\", \"text-center\", \"pad-left\"], [\"target\", \"_blank\", \"href\", \"https://dashboard.stripe.com/test/apikeys\", 1, \"text-xxs\", \"text-white\", \"opacity-half\", \"nowrap\"], [\"inputType\", \"password\", \"allowChange\", \"1\", \"inputPlaceholder\", \"\\uD83D\\uDD11 value\", 3, \"array\", \"value\", \"valueChange\", \"selectedChange\"], [\"valueFooter\", \"\"], [1, \"bg-grey\", \"flex1\", \"nowrap\"], [\"for\", \"storage.savePrivateKeyLocally\"], [\"type\", \"checkbox\", \"name\", \"storage.savePrivateKeyLocally\", \"id\", \"storage.savePrivateKeyLocally\", 3, \"checked\", \"change\"], [1, \"pad-top\"], [\"for\", \"saveKeyLocally\"], [\"type\", \"checkbox\", \"name\", \"saveKeyLocally\", \"id\", \"saveKeyLocally\", 3, \"checked\", \"change\"], [4, \"ngIf\"], [1, \"margin-xxs\", \"pad-xs\", \"bg-grey\", \"pad-top\"], [\"for\", \"saveRequestsLocal\", \"title\", \"Greatly assists coming back to this interface\"], [\"type\", \"checkbox\", \"name\", \"saveRequestsLocal\", \"id\", \"saveRequestsLocal\", 3, \"checked\", \"change\"], [\"wrap\", \"off\", \"spellcheck\", \"false\", 2, \"width\", \"100%\", \"height\", \"20vh\", \"min-height\", \"200px\", 3, \"disabled\", \"change\"], [1, \"flex-wrap\", \"child-margin-xxs\", \"flex-center\", \"child-flex-1\"], [\"type\", \"button\", \"class\", \"hover-bg-positive active-bg-balanced bg-black text-white\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"bg-grey text-white hover-bg-positive active-bg-balanced\", 3, \"click\", 4, \"ngIf\"], [1, \"pos-rel\", \"width-full\"], [1, \"pos-abs\", \"opacity-70\", \"text-xxxs\", \"text-center\", \"width-full\", \"pad-top-xs\", 2, \"top\", \"-.9em\"], [\"class\", \"flex1 bg-grey\", 4, \"ngIf\"], [1, \"flex1\", \"bg-grey\"], [3, \"save\"], [1, \"radius-10\", \"width-full\", \"pad-top\"], [1, \"flex-wrap\", \"child-margin-xxs\", \"child-pad-xs\"], [1, \"block\", \"opacity-half\", \"text-xxxs\", \"text-center\"], [\"inputType\", \"password\", \"allowChange\", \"1\", \"inputPlaceholder\", \"\\uD83D\\uDD11 value\", 3, \"array\", \"value\", \"valueChange\"], [1, \"pos-rel\"], [\"inputType\", \"password\", \"inputPlaceholder\", \"\\uD83D\\uDD11 value\", \"allowChange\", \"1\", 3, \"array\", \"value\"], [\"type\", \"button\", 1, \"hover-bg-positive\", \"active-bg-balanced\", \"bg-black\", \"text-white\", 3, \"click\"], [\"type\", \"button\", 1, \"bg-grey\", \"text-white\", \"hover-bg-positive\", \"active-bg-balanced\", 3, \"click\"]],\n    template: function SettingsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, SettingsComponent_div_0_Template, 21, 7, \"div\", 0);\n        i0.ɵɵtemplate(1, SettingsComponent_ng_template_1_Template, 39, 12, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(3, SettingsComponent_ng_template_3_Template, 1, 2, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(2);\n\n        i0.ɵɵproperty(\"ngIf\", !ctx.edit)(\"ngIfElse\", _r1);\n      }\n    },\n    dependencies: [i1.NgIf, i2.MaskedKeyComponent, i3.KeyChangerComponent, i4.WebhookServerEditComponent, i5.WebhookSecretEditComponent, i6.KeysInputArrayComponent, i1.JsonPipe],\n    encapsulation: 2\n  });\n  return SettingsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}